# *** WARNING! ***
# Modification to this file only take effect after running
# generate-wrappers-and-manifest.py

# See python/mozbuild/mozbuild/mozinfo.py for incoming data.

[DEFAULT]
subsuite = webgl
# No e10s yet.
# 'B2G Desktop Linux' fails to create WebGL contexts.
# Also skip B2G for now, until we get a handle on the longer tail of emulator
# bugs.
# Bug 1136181 disabled on B2G Desktop and Mulet for intermittent failures
skip-if = e10s || os == 'b2g' || ((os == 'linux') && (buildapp == 'b2g')) || ((os == 'linux') && (buildapp == 'mulet'))

########################################################################
# All
#[test_always-fail.html]
#fail-if = 1
# We'll be able to use `fail-if` after bug 987849.

########################################################################
# "tst-linux{32,64}-spot-NNN" Slaves and Windows
[test_conformance__textures__tex-image-and-sub-image-2d-with-video.html]
# Random fail on Android 2.3.
# Crashes on Mulet Linux x64 and B2G ICS Emulator.
# Intermittent crash on Windows.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux') || (os == 'win')

########################################################################
# "tst-linux{32,64}-spot-NNN" Slaves:
#   Android 2.3, B2G Emu, Linux, and Mulet.
# Android: os == 'android'. (Not enough info to separate out 2.3)
# B2G Emu: os == 'b2g'.
# Linux: os == 'linux'.
# Mulet: os == 'b2g' && buildapp == 'mulet'.
[test_conformance__misc__invalid-passed-params.html]
# Causes consistent *blues*: "DMError: Remote Device Error: unable to
# connect to 127.0.0.1 after 5 attempts" on 'Android 2.3 Opt'.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')
[test_conformance__reading__read-pixels-test.html]
# Causes consistent *blues*: "DMError: Remote Device Error: unable to
# connect to 127.0.0.1 after 5 attempts" on 'Android 2.3 Opt'.
# Crashes near on B2G ICS Emulator.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')
[test_conformance__textures__gl-teximage.html]
# Crashes on Android 2.3.
# Crashes near on B2G ICS Emulator.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')
[test_conformance__misc__type-conversion-test.html]
# Resets device on Android 2.3.
# Crashes on B2G ICS Emulator, desktop Linux, and Mulet Linux x64.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')
[test_conformance__textures__tex-image-with-format-and-type.html]
# Crashes or blues on Android 2.3
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')
[test_conformance__textures__tex-input-validation.html]
# Crashes on 'Android 2.3'
# Asserts on 'B2G ICS Emulator Debug'.
skip-if = (os == 'android') || (os == 'b2g') || (os == 'linux')

########################################################################
# Android+Win
[test_conformance__textures__texture-npot-video.html]
# Intermittant crash on Windows
# Timeouts on Android. (Should be fixed by updating our suite)
skip-if = (os == 'android') || (os == 'win')

########################################################################
# Android
[test_conformance__canvas__buffer-offscreen-test.html]
# Causes frequent *blues*: "DMError: Remote Device Error: unable to
# connect to 127.0.0.1 after 5 attempts" on 'Android 2.3 Opt'.
skip-if = os == 'android'

########################################################################
# Android and Linux
[test_conformance__glsl__bugs__temp-expressions-should-not-crash.html]
# Coincidentally enough, crashes on Linux and Android 4.0.
skip-if = (os == 'android') || (os == 'linux')

########################################################################
# B2G and Linux
[test_conformance__context__context-attributes-alpha-depth-stencil-antialias.html]
# Asserts on 'B2G ICS Emulator Debug' and linux debug.
skip-if = (os == 'b2g') || (os == 'linux')

########################################################################
# Android and Mac
[test_conformance__extensions__oes-vertex-array-object.html]
# Crashes in driver on android 4.0 slaves and on Mac
# Crashes in driver
skip-if = (os == 'android') || (os == 'mac')

########################################################################
# Android
[test_conformance__attribs__gl-bindAttribLocation-aliasing.html]
# Crashes with OOM on android 2.3 slaves
skip-if = (os == 'android')
[test_conformance__attribs__gl-bindAttribLocation-matrix.html]
# Crashes with OOM on android 2.3 slaves
skip-if = (os == 'android')
[test_conformance__context__context-release-upon-reload.html]
# Times out
skip-if = (os == 'android')
[test_conformance__context__context-release-with-workers.html]
# Times out
skip-if = (os == 'android')
[test_conformance__extensions__webgl-depth-texture.html]
# Crashes on android 4.0 slaves
skip-if = (os == 'android')
[test_conformance__glsl__bugs__compare-loop-index-to-uniform.html]
# Crashes on android 2.3 slaves
skip-if = (os == 'android')
[test_conformance__glsl__misc__large-loop-compile.html]
# Crashes on android 4.0 slaves
skip-if = (os == 'android')
[test_conformance__misc__delayed-drawing.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__misc__shader-precision-format.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__misc__uninitialized-test.html]
# Crashes on Android.
skip-if = (os == 'android')
[test_conformance__more__conformance__webGLArrays.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__bufferData.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__bufferDataBadArgs.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__bufferSubData.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__bufferSubDataBadArgs.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__drawArrays.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__drawArraysOutOfBounds.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__drawElements.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__drawElementsBadArgs.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__more__functions__texImage2DHTML.html]
# Times out on 2.3
skip-if = (os == 'android')
[test_conformance__renderbuffers__framebuffer-object-attachment.html]
# Crashes on Android.
skip-if = (os == 'android')
[test_conformance__textures__texture-size.html]
# Crashes on Android 4.0.
skip-if = (os == 'android')
[test_conformance__textures__texture-size-cube-maps.html]
# Crashes on Android 4.0.
skip-if = (os == 'android')
[test_conformance__textures__texture-npot.html]
# Intermittent fail on Android 4.0.
skip-if = (os == 'android')

########################################################################
# B2G
[test_conformance__textures__tex-image-and-uniform-binding-bugs.html]
# Intermittently asserts on 'B2G ICS Emulator Debug'.
skip-if = (os == 'b2g')

########################################################################
# Linux
[test_conformance__extensions__webgl-draw-buffers.html]
# Crashes
skip-if = (os == 'linux')
[test_conformance__glsl__functions__glsl-function-atan.html]
# Crashes
skip-if = (os == 'linux')
[test_conformance__limits__gl-min-textures.html]
# mesa upgrade issues or task cluster issues- we just need it green; bug 1220658
skip-if = (os == 'linux')
[test_conformance__ogles__GL__notEqual__notEqual_001_to_008.html]
# Crashes
skip-if = (os == 'linux')
[test_conformance__ogles__GL__sign__sign_001_to_006.html]
# Crashes
skip-if = (os == 'linux')
[test_conformance__textures__tex-image-and-sub-image-2d-with-image-data.html]
# Crashes
skip-if = (os == 'linux')

########################################################################
# Mac
[test_conformance__canvas__drawingbuffer-static-canvas-test.html]
# Intermittent crash on OSX.
skip-if = (os == 'mac')
[test_conformance__canvas__viewport-unchanged-upon-resize.html]
# New OSX r7 machines and 10.10.5 is causing perma failure (bug 1216549)
skip-if = (os == 'mac')
[test_conformance__glsl__constructors__glsl-construct-bvec3.html]
# Crashes
skip-if = (os == 'mac')
[test_conformance__rendering__line-loop-tri-fan.html]
# Fails on OS X 10.10
fail-if = (os == 'mac' && os_version == '10.10')
[test_conformance__rendering__point-size.html]
# Fails on OS X 10.10
fail-if = (os == 'mac' && os_version == '10.10')
[test_conformance__textures__copy-tex-image-and-sub-image-2d.html]
# Fails on OS X 10.10
fail-if = (os == 'mac' && os_version == '10.10')

########################################################################
# Win
